<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conversational Form Widget Example</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      // This would be replaced with the actual jsDelivr URL once published
      // const { ConversationalFormWidget } = window.ConversationalFormWidget;

      // For now, we'll simulate the widget
      function ConversationalFormWidget({
        apiEndpoint,
        onFormSubmit,
        onFormError,
      }) {
        return React.createElement(
          "div",
          {
            style: {
              padding: "20px",
              border: "2px solid #ccc",
              borderRadius: "8px",
              margin: "20px",
            },
          },
          [
            React.createElement(
              "h2",
              { key: "title" },
              "Conversational Form Widget"
            ),
            React.createElement(
              "p",
              { key: "description" },
              "This is a placeholder for the actual widget."
            ),
            React.createElement(
              "p",
              { key: "api" },
              `API Endpoint: ${apiEndpoint}`
            ),
            React.createElement(
              "button",
              {
                key: "submit",
                onClick: () => onFormSubmit && onFormSubmit({ test: "data" }),
                style: {
                  padding: "10px 20px",
                  backgroundColor: "#007bff",
                  color: "white",
                  border: "none",
                  borderRadius: "4px",
                  cursor: "pointer",
                },
              },
              "Test Submit"
            ),
          ]
        );
      }

      function App() {
        const handleFormSubmit = (data) => {
          console.log("Form submitted:", data);
          alert("Form submitted! Check console for details.");
        };

        const handleFormError = (error) => {
          console.error("Form error:", error);
          alert("Form error occurred! Check console for details.");
        };

        return React.createElement("div", { style: { padding: "20px" } }, [
          React.createElement(
            "h1",
            { key: "title" },
            "Conversational Form Widget Demo"
          ),
          React.createElement(ConversationalFormWidget, {
            key: "widget",
            apiEndpoint: "https://your-api.com/api/chat",
            onFormSubmit: handleFormSubmit,
            onFormError: handleFormError,
          }),
        ]);
      }

      ReactDOM.render(
        React.createElement(App),
        document.getElementById("root")
      );
    </script>
  </body>
</html>
